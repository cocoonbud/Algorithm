#### å‰è¨€

æœ€è¿‘leetcodeçš„æ¯æ—¥åˆ·é¢˜éƒ½æ˜¯å‰ç¼€å’Œç±»çš„ï¼Œæ¯”è¾ƒæœ‰è¿žè´¯æ€§ã€‚æ²¡æœ‰ä¸Šæ¥æžä¸ªhardæ‰“å‡»äººã€‚æœ¬é¢˜ç”¨åˆ°äº†å·®åˆ†ã€å‰ç¼€å’Œï¼Œå¥½è®°æ€§ä¸çƒ‚ç¬”å¤´ï¼Œç¬”è®°ä¹‹ã€‚æ¬¢è¿Žç‚¹èµžðŸ‘ðŸ»

> è¿™é‡Œæœ‰ n ä¸ªèˆªç­ï¼Œå®ƒä»¬åˆ†åˆ«ä»Ž 1 åˆ° n è¿›è¡Œç¼–å·ã€‚
>
> æœ‰ä¸€ä»½èˆªç­é¢„è®¢è¡¨ bookings ï¼Œè¡¨ä¸­ç¬¬ i æ¡é¢„è®¢è®°å½• bookings[i] = [firsti, lasti, seatsi] æ„å‘³ç€åœ¨ä»Ž firsti åˆ° lasti ï¼ˆåŒ…å« firsti å’Œ lasti ï¼‰çš„ æ¯ä¸ªèˆªç­ ä¸Šé¢„è®¢äº† seatsi ä¸ªåº§ä½ã€‚
>
> è¯·ä½ è¿”å›žä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ answerï¼Œå…¶ä¸­ answer[i] æ˜¯èˆªç­ i ä¸Šé¢„è®¢çš„åº§ä½æ€»æ•°ã€‚
>
> æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
>
> é“¾æŽ¥ï¼šhttps://leetcode-cn.com/problems/corporate-flight-bookings
>
> ç¤ºä¾‹ 1ï¼š
>
> è¾“å…¥ï¼šbookings = [[1,2,10],[2,3,20],[2,5,25]], n = 5
>
> è¾“å‡ºï¼š[10,55,45,25,25]
>
> è§£é‡Šï¼š
>
> èˆªç­ç¼–å· 1 2 3 4 5
>
> é¢„è®¢è®°å½• 1 ï¼š 10 10
>
> é¢„è®¢è®°å½• 2 ï¼š 20 20
>
> é¢„è®¢è®°å½• 3 ï¼š 25 25 25 25
>
> æ€»åº§ä½æ•°ï¼š 10 55 45 25 25
>
> å› æ­¤ï¼Œanswer = [10,55,45,25,25]
>
> 1 <= n <= 2 * 104
>
> 1 <= bookings.length <= 2 * 104
>
> bookings[i].length == 3
>
> 1 <= firsti <= lasti <= n
>
> 1 <= seatsi <= 104

***

#### è¯»é¢˜

1. æœ‰nä¸ªèˆªç­ï¼Œèµ·å§‹ä½ç½®æ˜¯1ã€‚
2. `bookings[i] = [startSeats, ensSeats, seats]`è¡¨ç¤ºä»Ž `startSeats` åˆ° `ensSeats` ï¼ˆ**åŒ…å«** `firsti` å’Œ `lasti` ï¼‰çš„æ¯ä¸ªèˆªç­ä¸Šé¢„è®¢ `seatsi` ä¸ªåº§ä½ã€‚

è¦æ±‚ï¼šè¿”å›žä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢çš„å…ƒç´ æ˜¯æ¯ä¸ªèˆªç­é¢„å®šçš„åº§ä½æ•°ã€‚

#### è§£é¢˜

çœ‹è¿™ä¸ªé¢˜ï¼Œç›´è§‚çš„æ€ç»´å°±æ˜¯ä¸€ä¸ªä¸€ä¸ªéåŽ†bookingsã€‚ç„¶åŽåŽ»ç´¯åŠ æ¯ä¸€ä¸ªbooking[2]ã€‚ä½†æ˜¯è¿™æ ·ä¼šè¶…æ—¶ã€‚

é‚£æˆ‘ä»¬æŠŠé¢˜ä¾‹ç®€åŒ–ä¸‹: `bookings = [[1, 2 , 10]]; n = 5;`

å°±å˜æˆäº†

|  1   |  2   |  3   |  4   |  5   |
| :--: | :--: | :--: | :--: | :--: |
|  10  |  10  |  0   |  0   |  0   |

æ’ä¸€å¥ï¼Œé¦–å…ˆäº†è§£ä¸€ä¸ªæ¦‚å¿µï¼Œä»€ä¹ˆæ˜¯å·®åˆ†æ•°ç»„ï¼Ÿ

å·®åˆ†æ•°ç»„ï¼šå¯¹åº”çš„æ¦‚å¿µæ˜¯å‰ç¼€å’Œæ•°ç»„ã€‚ä¾‹å¦‚`[1, 2, 3, 4]`çš„å‰ç¼€å’Œç»“æžœå°±æ˜¯`[1, 3, 6, 10]`ï¼Œ å…¶å·®åˆ†æ•°ç»„å°±æ˜¯`[1, 1, 1, 1]`ã€‚

okç»§ç»­ï¼Œå¦‚æžœæˆ‘ä»¬åªæ ‡è®°1å’Œ3å‘¢ï¼Ÿ

|        |  1   |  2   |  3   |  4   |  5   |
| :----: | :--: | :--: | :--: | :--: | :--: |
|        |  10  |      | -10  |      |      |
| å‰ç¼€å’Œ |      | +10  |      |      |      |
|  ç»“æžœ  |  10  |  10  |  0   |  0   |  0   |

æ‰€ä»¥å°±å¯ä»¥è½¬æ¢ä¸ºæ ‡è®°1åˆ°3è¿™ä¸ªåŒºé—´ï¼Œå¢žé‡10ã€‚åªéœ€è¦æ“ä½œè¿™ä¸ªåŒºé—´çš„ä¸¤ç«¯ï¼ŒåŒºé—´å·¦ç«¯åŠ 10ï¼Œ åŒºé—´å³ç«¯+1ä½ç½®-10ã€‚ä¹‹åŽå…¶ä»–åŒºé—´ä¹Ÿè¿™ä¹ˆæ ‡è®°ã€‚æž„é€ å·®åˆ†æ•°ç»„ï¼Œå†ä¾æ®å·®åˆ†æ•°ç»„è®¡ç®—å‰ç¼€å’Œå°±å¯ä»¥å¾—åˆ°é¢˜ç›®æƒ³è¦çš„ç»“æžœã€‚å³é‡‡ç”¨å·®åˆ†çš„æ€æƒ³æ¥æ¨¡æ‹ŸåŒºé—´çš„å¢žé‡ã€‚

å†å›žåˆ°æœ¬é¢˜ç¤ºä¾‹`bookings =  [[1, 2, 10], [2, 3, 20], [2, 5, 25]]; n = 5`

![WeChat81e64f69bbef4a46a672bde73fbe0e00](https://tva1.sinaimg.cn/large/008i3skNly1gtzytydnw9j60u013jtd302.jpg)

#### ä»£ç 

##### ä¸ªäººé¢˜è§£

**æš´åŠ›æ³•(è¶…æ—¶)**

```cpp
class Solution {
public:
		vector<int> corpFlightBookings(vector<vector<int>>& bookings, int n) {
				vector<int> res(n);
				for (auto &b : bookings) {
						for (int i = b[0] - 1; i < b[1]; i++) {
								res[i] += b[2];
						}
				}
				return res;
		}
};
```

**ä¸ªäººé¢˜è§£ï¼ˆå·®åˆ†ã€å‰ç¼€å’Œï¼‰**

```c++
class Solution {
public:
    vector<int> corpFlightBookings(vector<vector<int>>& bookings, int n) {
        vector<int> res(n + 1);
        int l = 0, r = 0, a = 0;
        for (auto & b : bookings) {
            l = b[0] - 1;
            r = b[1] - 1;
            a = b[2];
            res[l] += a;
            res[r + 1] -= a;
        }
        vector<int> fCount(n);

        for (int i = 0; i < n; i++) {
            if (i == 0) {
                fCount[i] = res[0];
            }else {
                fCount[i] = fCount[i - 1] + res[i];
            }
        }
        return fCount;
    }
};
```

##### å®˜æ–¹é¢˜è§£

```c++
class Solution {
public:
    vector<int> corpFlightBookings(vector<vector<int>>& bookings, int n) {
        vector<int> nums(n);
        for (auto& booking : bookings) {
            nums[booking[0] - 1] += booking[2];
            if (booking[1] < n) {
                nums[booking[1]] -= booking[2];
            }
        }
        for (int i = 1; i < n; i++) {
            nums[i] += nums[i - 1];
        }
        return nums;
    }
};
```

